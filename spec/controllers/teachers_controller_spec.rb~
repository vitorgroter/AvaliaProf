require 'spec_helper'

describe TeachersController do
  render_views

  describe "GET 'index'" do
    before(:each) do
      first = Factory(:teacher, :name => "A")
      second = Factory(:teacher, :name => "B")
      third  = Factory(:teacher, :name => "C")

      @teachers = [first, second, third]
    end

    it "should be successful" do
      get :index
      response.should be_success
    end

    it "should have the right title" do
      get :index
      response.should have_selector("title", :content => "Professores")
    end

    it "should have an element for each user" do
      get :index
      @teachers.each do |teacher|
        response.should have_selector("li", :content => teacher.name)
      end
    end
  end
end

